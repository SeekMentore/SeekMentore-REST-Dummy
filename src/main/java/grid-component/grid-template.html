<!--

All HTML ID's of the components will be created in the fashion 

Grid.id + '-' + {component.id} (All nested components in case of multi level components) + '-' {array index} (in case the component is an array)

Every HTML element created as part of this template code should have an ID and every section should have class

I have provided classes for main toolbars but class should be provided for every section that is created

The functions which are mentioned here as Grid. are still not written in Grid.js file but they would have to be written to handle all the events

-->
var Grid =  {Grid Object}
var GridConstants = {GridConstants Interface}
<grid-component class="uigrid" id="{Grid.id}">
	<!-- This toolbar will only get painted once when Grid is created -->
	<title-toolbar class="uigrid-title-toolbar" id="{Grid.id}+'-title-toolbar'">
		<!-- Title toolbar has only 1 row  -->
		<row class="uigrid-row" id="{Grid.id}+'-title-toolbar'+'-row-0'">
			<cell class="uigrid-cell" id="{Grid.id}+'-title-toolbar'+'-row-0'+'-cell-0'">
				<grid-title left-align id="{Grid.id}+'-title-toolbar'+'-row-0'+'-grid-title'">Grid.title</grid-title>
				<download-button right-align click-event="Grid.downloadGridData()" id="{Grid.id}+'-title-toolbar'+'-row-0'+'-cell-0'+'-download-button'"></download-button>
				IF Grid.isFilterCapable
					<apply-filter right-align click-event="Grid.applyFilter()" id="{Grid.id}+'-title-toolbar'+'-row-0'+'-cell-0'+'-apply-filter'"></apply-filter>
					<reset-filter right-align click-event="Grid.resetFilter()" id="{Grid.id}+'-title-toolbar'+'-row-0'+'-cell-0'+'-reset-filter'"></reset-filter>
				END IF
				<online-offline-toggle-button right-align toggle-event="Grid.toggleRemoteLoad(thisbutton)" id="{Grid.id}+'-title-toolbar'+'-row-0'+'-cell-0'+'-online-offline-toggle-button'"></online-offline-toggle-button>
				<column-hide-icon right-align click-event="[COMPONENT-COLUMN_SHOW_HIDE_AS_MODAL_POPUP]" id="{Grid.id}+'-title-toolbar'+'-cell-0'+'-row-0'+'-column-hide-icon'"></column-hide-icon>
				<grid-help-icon right-align click-event="[COMPONENT-GRID_HELP_AS_MODAL_POPUP]" id="{Grid.id}+'-title-toolbar'+'-row-0'+'-cell-0'+'-grid-help-icon'"></grid-help-icon>
			</cell>
		</row>
	</title-toolbar>
	
	IF Grid.isSortingCapable
		<!-- This toolbar will only get painted once when Grid is created -->
		<sorter-toolbar class="uigrid-sorter-toolbar" id="{Grid.id}+'-sorter-toolbar'">
			<!-- Sorter toolbar has only 1 row  -->
			<row class="uigrid-row" id="{Grid.id}+'-sorter-toolbar'+'-row-0'">
				<cell class="uigrid-cell" id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'">
					LOOP sorter IN Grid.sorters
						<sorter-column-tab left-align id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'+'-sorter-column-tab-'+{loop-index}">
							<label center-align id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'+'-sorter-column-tab-'+{loop-index}+'-label'">sorter.columnName</label>
							IF sorter.order = 'ASC'
								<ascending-icon right-align id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'+'-sorter-column-tab-'+{loop-index}+'-ascending-icon'"></ascending-icon>
							ELSE IF sorter.order = 'DESC'
								<descending-icon right-align id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'+'-sorter-column-tab-'+{loop-index}+'-descending-icon'"></descending-icon>
							END IF
							<cross-mark-icon right-align top-align click-event="Grid.removeColumnFromSorterList(sorter.id)" id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'+'-sorter-column-tab-'+{loop-index}+'-cross-mark-icon'"></cross-mark-icon>
						</sorter-column-tab>
					END LOOP
					<apply-sorter right-align click-event="Grid.applySorter()" id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'+'-apply-sorter'"></apply-sorter>
					<reset-sorter right-align click-event="Grid.resetSorter()" id="{Grid.id}+'-sorter-toolbar'+'-row-0'+'-cell-0'+'-reset-sorter'"></reset-sorter>
				</cell>
			</row>
		</sorter-toolbar>
	END IF
	
	<!-- This toolbar will get painted everytime the User Shows/Hides columns -->
	<column-header-toolbar class="uigrid-column-header-toolbar" id="{Grid.id}+'-column-header-toolbar'">
		<row class="uigrid-row" id="{Grid.id}+'-column-header-toolbar'+'-row-0'">
			IF Grid.hasSelectionColumn
				<cell class="uigrid-cell" id="{Grid.id}+'-column-header-toolbar'+'-row-0'+'-cell-0'">
					<selection-column-select-unselect-all-cell center-align click-event="Grid.selectionColumnSelectUnselectAll(thischckbox)" id="{Grid.id}+'-column-header-toolbar'+'-row-0'+'-cell-0'+'-selection-column-select-unselect-all-cell'"></selection-column-select-unselect-all-cell>
				</cell>
			END IF
			<looped-scrollable-section-component horizontal-scrolling-after-cells="GridConstants.HORIZONTAL_COLUMN_SHOW_LIMIT" only-paint-if="Grid.columns.size > 0">
				LOOP column IN Grid.columns 
					IF NOT column.hidden
						<cell class="uigrid-cell">
							<column-header>
								IF Grid.isFilterCapable AND column.filterable AND column.isFiltered <!-- Checking if this particular column is Filtered then only display the remove filter icon -->
									<remove-filter-tab left-align click-event="Grid.removeFilterFromColumn(column.id)">
										<filter-icon center-align></filter-icon>
										<cross-mark-icon right-align top-align click-event="Grid.removeFilterFromColumn(column.id)"></cross-mark-icon>
									</remove-filter-tab>
								END IF
								IF column.hideable
									<column-hide-button left-align click-event="Grid.hideColumn(column.id)"></column-hide-button>
								END IF
								<label center-align>column.headerName</label>
								IF Grid.isSortingCapable AND column.sortable 
									<ascending-icon right-align click-event="Grid.sortColumn(column.id, 'ASC')"></ascending-icon>
									<descending-icon right-align click-event="Grid.sortColumn(column.id, 'DESC')"></descending-icon>
								END IF
							</column-header>
						</cell>
					END IF
				END LOOP
			</looped-scrollable-section-component>
			IF Grid.hasActionColumn
				<cell class="uigrid-cell">
					<action-column-cell center-align cell-span="Grid.actionColumn.totalButtons">Action Buttons</action-column-cell>
				</cell>
			END IF
		</row>+
		<row class="uigrid-row">
			IF Grid.hasSelectionColumn
				<cell class="uigrid-cell">
					<blank-cell></blank-cell>
				</cell>
			END IF
			<looped-scrollable-section-component horizontal-scrolling-after-cells="GridConstants.HORIZONTAL_COLUMN_SHOW_LIMIT" only-paint-if="Grid.columns.size > 0">
				LOOP column IN Grid.columns
					<cell class="uigrid-cell">
						IF Grid.isFilterCapable AND NOT column.hidden AND column.filterable
							<filter-cell>
								IF column.dataType = 'string'
									<filter-cell-string>
										<search-icon left-align></search-icon>
										<string-input-text-box center-align text-change-event="Grid.columnFilteredTextChanged(column.id, thistextbox)"></string-input-text-box>
										<case-sensitive-toggle-button right-align toggle-event="Grid.columnFilteredToggleTextCase(column.id, thisbutton)"></case-sensitive-toggle-button>
									</filter-cell-string>
								ELSE IF column.dataType = 'int'
									<filter-cell-string>
										<label left-align>GT</label>
										<greater-than-input-text-box left-align text-change-event="Grid.columnFilteredGreaterNumberChanged(column.id, thistextbox)"></greater-than-input-text-box>
										<label center-align>EQ</label>
										<equal-to-input-text-box center-align text-change-event="Grid.columnFilteredEqualNumberChanged(column.id, thistextbox)"></equal-to-input-text-box>
										<label right-align>LT</label>
										<less-than-input-text-box right-align text-change-event="Grid.columnFilteredLowerNumberChanged(column.id, thistextbox)"></greater-than-input-text-box>
									</filter-cell-string>
								ELSE IF column.dataType = 'date'
									<filter-cell-string>
										<label left-align>After</label>
										<after-calendar-icon left-align click-event="[OPEN_CALENDAR_AS_MODAL_POPUP]" date-change-event="Grid.columnFilteredBeforeDateChanged(column.id, thisdatefield)" mouse-over-tip-before-selecting-date="Select a Start Date" mouse-over-tip-after-selecting-date="[Selected date in dd/mm/yyyy format]"></after-calendar-icon>
										<label center-align>On</label>
										<on-calendar-icon center-align click-event="[OPEN_CALENDAR_AS_MODAL_POPUP]" date-change-event="Grid.columnFilteredOnDateChanged(column.id, thisdatefield)" mouse-over-tip-before-selecting-date="Select a Specific Date" mouse-over-tip-after-selecting-date="[Selected date in dd/mm/yyyy format]"></on-calendar-icon>
										<label right-align>Before</label>
										<before-calendar-icon right-align click-event="[OPEN_CALENDAR_AS_MODAL_POPUP]" date-change-event="Grid.columnFilteredAfterDateChanged(column.id, thisdatefield)" mouse-over-tip-before-selecting-date="Select an End Date" mouse-over-tip-after-selecting-date="[Selected date in dd/mm/yyyy format]"></before-calendar-icon>
										<!-- The Calendar Icons here will have the following properties
										1) On click will [OPEN_CALENDAR] to select date
										2) Before the Date is selected the Icon should appear blue and on mouse over on the icon should display the text written above
										3) After the Date is selected the Icon should appear red and on mouse over on the icon should display the selected date in 'dd/mm/yyyy' format
										 -->
									</filter-cell-string>
								ELSE IF column.dataType = 'list'
									<filter-cell-list>
										<list-icon center-align click-event="[COMPONENT-LIST_FILTER_AS_MODAL_POPUP](column.id)"></list-icon>
									</filter-cell-list>
								END IF
							</filter-cell>
						ELSE
							<blank-cell></blank-cell>
						END IF
					</cell>
				END LOOP
			</looped-scrollable-section-component>
			IF Grid.hasActionColumn
				<cell class="uigrid-cell">
					<blank-cell cell-span="Grid.actionColumn.totalButtons"></blank-cell>
				</cell>
			END IF
		</row>
	</column-header-toolbar>
	
	<!-- This toolbar will get painted everytime the User Shows/Hides columns and the User relaods Grid data i.e. the Store is loaded-->
	<record-section class="uigrid-record-section">
		<!-- The functionality of Grid.paintData function is written here -->
		<looped-scrollable-section-component vertical-scrolling-after-rows="GridConstants.VERTICAL_RECORD_SHOW_LIMT" only-paint-if="Grid.store.data.size > 0">
			LOOP record IN Grid.store.data 
				<row class="uigrid-row">
					IF Grid.hasSelectionColumn
						<cell class="uigrid-cell">
							<selection-column-record-cell center-align click-event="Grid.selectionButtonCheckedUnchecked(record.id, thischeckbox)" mouse-over-event="Grid.selectionButtonMouseOver(record.id)" mouse-click-event="Grid.selectionButtonMouseClicked(record.id)">
								<paint-selection-cell using-function="Grid.defaultSelectionColumnRenderer(record.id)"></paint-selection-cell>
							</selection-column-record-cell>
						</cell>
					END IF
					<looped-scrollable-section-component horizontal-scrolling-after-cells="GridConstants.HORIZONTAL_COLUMN_SHOW_LIMIT" only-paint-if="Grid.columns.size > 0">
						LOOP column IN Grid.columns 
							<cell class="uigrid-cell">
								<column-value-cell center-align click-event="Grid.columnClicked(record.id, column.id)" mouse-over-event="Grid.columnMouseOver(record.id, column.id)" mouse-click-event="Grid.columnMouseClicked(record.id, column.id)">
									<paint-column-cel using-function="Grid.defaultColumnValueRenderer(record.id, column.id)"></paint-column-cell>
								</column-value-cell>
							</cell>
						END LOOP
					</looped-scrollable-section-component>
					IF Grid.hasActionColumn
						<looped-scrollable-section-component horizontal-scrolling-after-cells="GridConstants.HORIZONTAL_MAX_ACTION_BUTTON_LIMIT" only-paint-if="Grid.actionColumn.buttons.size > 0">
							LOOP button IN Grid.actionColumn.buttons
								<cell class="uigrid-cell">
									<action-button-cell center-align click-event="Grid.actionButtonClicked(record.id, button.id)" mouse-over-event="Grid.actionButtonMouseOver(record.id, button.id)" mouse-click-event="Grid.actionButtonMouseClicked(record.id, button.id)">
										<paint-action-button-cell using-function="Grid.defaultActionButtonRenderer(record.id, button.id)"></paint-action-button-cell>
									</action-button-cell>
								</cell>
							END LOOP
						</looped-scrollable-section-component>
					END IF
				</row>
			END LOOP
		</looped-scrollable-section-component>
	</record-section>
	
	<!-- This toolbar will only get painted once when Grid is created -->
	<paging-toolbar class="uigrid-paging-toolbar">
		<!-- Paging toolbar has only 1 row  -->
		<row class="uigrid-row">
			<cell class="uigrid-cell">
				<total-records-component left-align>
					Total Records : {Grid.store.totalRecords}
				</total-records-component>
				IF Grid.isPagingCapable
					<records-per-page-component left-align>
						Records Per Page <dropdown-component value-selected="Grid.paginator.numberOfRecordsPerPage"></dropdown-component>
					</records-per-page-component>
				END IF
				<refresh-data-button right-align click-event="Grid.refreshGridData()"></refresh-data-button>
				IF Grid.isPagingCapable
					<navigate-page-component right-align>
						<previous-page-icon click-event="Grid.loadPreviousPage()"></previous-page-icon>
						Page {Grid.paginator.currentPage} of {Grid.paginator.totalPages}
						<next-page-icon click-event="Grid.loadNextPage()"></next-page-icon>
						<input-text-go-to-page></input-text-go-to-page>
						<go-to-page-button right-align click-event="Grid.loadPage(<input-text-go-to-page>)"></go-to-page-button>
					</navigate-page-component>
				END IF
			</cell>
		</row>
	</paging-toolbar>
</grid-component>		

<!--
Other Components which are called above
  -->

<!--  [COMPONENT-COLUMN_SHOW_HIDE_AS_MODAL_POPUP] -->

<column-show-hide-component class="modal-component">
	<row class="uigrid-row">
		<cell class="uigrid-cell">
			<cross-mark-icon right-align top-align click-event="{Close-Component}"></cross-mark-icon>
		</cell>
	</row>
	<row class="uigrid-row">
		<cell class="uigrid-cell">
			Show / Hide Columns
		</cell>
	</row>
	<looped-scrollable-section-component vertical-scrolling-after-rows="GridConstants.VERTICAL_COLUMN_SHOW_LIMIT_IN_COLUMN_SHOW_HIDE_COMPONENT" only-paint-if="Grid.columns.size > 0">
		LOOP column IN Grid.columns
			<row class="uigrid-row">
				<cell class="uigrid-cell">
					<label center-align>column.headerName</label>
				</cell>
				<cell class="uigrid-cell">
					IF column.hideable
						{checkbox-disabled = FALSE}
					ELSE
						{checkbox-disabled = TRUE}
					END
					IF column.hidden
						{checkbox-checked = FALSE}
					ELSE
						{checkbox-checked = TRUE}
					END
					<checkbox-component center-align disabled="{checkbox-disabled}" checked="{checkbox-checked}" click-event="Grid.toggleShowHide(column.id, thischeckbox)"></checkbox-component>
				</cell>
			</row>
		END LOOP
	</looped-scrollable-section-component>
	<row class="uigrid-row">
		<cell class="uigrid-cell">
			<apply-show-hide-button center-align click-event="Grid.applyShowHide()"></apply-show-hide-button>
		</cell>
	</row>
</column-show-hide-component>

<!--  [COMPONENT-GRID_HELP_AS_MODAL_POPUP] -->

<grid-help-component class="modal-component">
 <!-- Just show a blank modal pop up for now we will code this later -->
</grid-help-component>

<!--  [COMPONENT-LIST_FILTER_AS_MODAL_POPUP] -->

<list-filter-component class="modal-component" IN-PARAMS="(columnId)">
	<row class="uigrid-row">
		<cell class="uigrid-cell">
			<cross-mark-icon right-align top-align click-event="{Close-Component}"></cross-mark-icon>
		</cell>
	</row>
	<looped-scrollable-section-component vertical-scrolling-after-rows="GridConstants.VERTICAL_FILTER_OPTION_SHOW_LIMIT_IN_LIST_FILTER_COMPONENT" only-paint-if="Grid.getColumnWithColumnId(columnId).filterOptions.size > 0">
		LOOP filterOption IN Grid.getColumnWithColumnId(columnId).filterOptions
			<row class="uigrid-row">
				<cell class="uigrid-cell">
					<filter-option center-align value="filterOption.value">filterOption.label</filter-option>
				</cell>
				<cell class="uigrid-cell">
					IF filterOption.isSelected
						{checkbox-checked = TRUE}
					ELSE
					<checkbox-component checked="{checkbox-checked}" click-event="Grid.filterSelectedNotSelectedToggle(column.id, filterOption.id, thischeckbox)"></checkbox-component>
				</cell>
			</row>
		END LOOP
	</looped-scrollable-section-component>
</list-filter-component>